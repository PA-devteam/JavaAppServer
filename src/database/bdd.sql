;
CREATE USER IF NOT EXISTS SA SALT 'a04b44f1297fa837' HASH '09a79417fba75e104c629cc8027f5db88b9894338f97f6e3294450e7f9c3f580' ADMIN;
CREATE SCHEMA IF NOT EXISTS PA AUTHORIZATION SA;
DROP TABLE IF EXISTS PA.SALT CASCADE;
DROP TABLE IF EXISTS PA.AUTHORISATION CASCADE;
DROP TABLE IF EXISTS PA.PASSWORD CASCADE;
DROP TABLE IF EXISTS PA.ROLESTATUT CASCADE;
DROP TABLE IF EXISTS PA.AUTHORISATIONROLE CASCADE;
DROP TABLE IF EXISTS PA.EQUATION CASCADE;
DROP TABLE IF EXISTS PA.USERS CASCADE;
DROP TABLE IF EXISTS PA.USERROLE CASCADE;
DROP TABLE IF EXISTS PA.COMMENTARY CASCADE;
DROP TABLE IF EXISTS PA.ELEMENT CASCADE;
DROP TABLE IF EXISTS PA.EQUATIONELEMENT CASCADE;
DROP TABLE IF EXISTS PA.RULE CASCADE;
DROP TABLE IF EXISTS PA.RULEELEMENT CASCADE;
DROP TABLE IF EXISTS PA.ELMTOPERATOR CASCADE;
DROP TABLE IF EXISTS PA.ELMTVARIABLE CASCADE;
DROP TABLE IF EXISTS PA.EQUATIONRULES CASCADE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_50178723_BA2C_4EAA_B8E6_1CCE53410FE7 START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_D81A5B53_17B5_4E45_88B4_ECAA7EEE69CF START WITH 27 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_253BFABF_57BB_46B3_9158_265AA58588FD START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_91A0DFE1_9728_455B_B9FA_EC180B7EBE8C START WITH 27 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_C11724AD_71AD_4B66_AE6B_0E776E0629D7 START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_7B069173_9A3D_4F16_8F59_BB04DA7F98BE START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_7A623C8E_1A76_4827_9F87_7FE9D769E02C START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_1268A331_74E3_4DC1_895D_D017AF107E58 START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_F1C8148F_137E_4218_9A74_0EC177A258DA START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_DC303CC4_2F45_40DF_8133_F3A87BBC3977 START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_66F0D403_6F62_44F4_A71E_6223740A9E2D START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_3B4D5BD6_5B88_4320_9E29_B26BD8880FE6 START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_1ABE68DD_95DF_4D68_87CD_E501EB976AC7 START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_23D414EB_CDEC_42CF_A906_DF038A8E3FBC START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PA.SYSTEM_SEQUENCE_66F5576B_4B0D_460B_9D16_0AE812A186F6 START WITH 13 BELONGS_TO_TABLE;
CREATE CACHED TABLE PA.SALT(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_66F5576B_4B0D_460B_9D16_0AE812A186F6) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_66F5576B_4B0D_460B_9D16_0AE812A186F6,
    VAL TEXT
);
ALTER TABLE PA.SALT ADD CONSTRAINT PA.CONSTRAINT_2 PRIMARY KEY(ID);
-- 12 +/- SELECT COUNT(*) FROM PA.SALT;
INSERT INTO PA.SALT(ID, VAL) VALUES
(1, 'salt'),
(2, 'salt'),
(3, 'salt'),
(4, 'salt'),
(5, 'salt'),
(6, 'salt'),
(7, 'salt'),
(8, 'salt'),
(9, 'salt'),
(10, 'salt'),
(11, 'salt'),
(12, 'salt');
CREATE CACHED TABLE PA.AUTHORISATION(
    ID INT NOT NULL,
    LABEL TEXT,
    VAL BOOL
);
ALTER TABLE PA.AUTHORISATION ADD CONSTRAINT PA.CONSTRAINT_5 PRIMARY KEY(ID);
-- 0 +/- SELECT COUNT(*) FROM PA.AUTHORISATION;
CREATE CACHED TABLE PA.PASSWORD(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_91A0DFE1_9728_455B_B9FA_EC180B7EBE8C) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_91A0DFE1_9728_455B_B9FA_EC180B7EBE8C,
    VAL TEXT
);
ALTER TABLE PA.PASSWORD ADD CONSTRAINT PA.CONSTRAINT_7 PRIMARY KEY(ID);
-- 26 +/- SELECT COUNT(*) FROM PA.PASSWORD;
INSERT INTO PA.PASSWORD(ID, VAL) VALUES
(1, '1234'),
(2, '1234'),
(3, '1234'),
(4, '1234'),
(5, 'test1'),
(6, 'test1'),
(7, 'test1'),
(8, 'test1'),
(9, 'test1'),
(10, 'test1'),
(11, 'test1'),
(12, 'test1'),
(13, 'test2'),
(14, 'test3'),
(15, 'test4'),
(16, 'test5'),
(17, 'test6'),
(18, 'test7'),
(19, 'test8'),
(20, 'test8'),
(21, 'test66'),
(22, 'test11'),
(23, 'test13'),
(24, 'test14'),
(25, 'test16'),
(26, 'test17');
CREATE CACHED TABLE PA.ROLESTATUT(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_1ABE68DD_95DF_4D68_87CD_E501EB976AC7) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_1ABE68DD_95DF_4D68_87CD_E501EB976AC7,
    LABEL TEXT
);
ALTER TABLE PA.ROLESTATUT ADD CONSTRAINT PA.CONSTRAINT_A PRIMARY KEY(ID);
-- 0 +/- SELECT COUNT(*) FROM PA.ROLESTATUT;
CREATE CACHED TABLE PA.AUTHORISATIONROLE(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_66F0D403_6F62_44F4_A71E_6223740A9E2D) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_66F0D403_6F62_44F4_A71E_6223740A9E2D,
    AUT_ID INT
);
-- 0 +/- SELECT COUNT(*) FROM PA.AUTHORISATIONROLE;
CREATE CACHED TABLE PA.EQUATION(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_50178723_BA2C_4EAA_B8E6_1CCE53410FE7) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_50178723_BA2C_4EAA_B8E6_1CCE53410FE7,
    LABEL TEXT,
    DESCRIPTION TEXT,
    ISVALID BOOL,
    VALIDATEDBY INT,
    VALIDATIONDATE DATE,
    CREATEDBY INT
);
ALTER TABLE PA.EQUATION ADD CONSTRAINT PA.CONSTRAINT_51 PRIMARY KEY(ID);
-- 0 +/- SELECT COUNT(*) FROM PA.EQUATION;
CREATE CACHED TABLE PA.USERS(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_D81A5B53_17B5_4E45_88B4_ECAA7EEE69CF) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_D81A5B53_17B5_4E45_88B4_ECAA7EEE69CF,
    FIRSTNAME VARCHAR(25) NOT NULL,
    LASTNAME VARCHAR(25) NOT NULL,
    USERNAME TEXT,
    CREATEDATE DATE,
    UPDATEDATE DATE,
    ISACTIVE BOOL,
    ISDELETED BOOL,
    ID_PASSWORD INT,
    MAIL TEXT
);
ALTER TABLE PA.USERS ADD CONSTRAINT PA.CONSTRAINT_4 PRIMARY KEY(ID, FIRSTNAME, LASTNAME);
-- 26 +/- SELECT COUNT(*) FROM PA.USERS;
INSERT INTO PA.USERS(ID, FIRSTNAME, LASTNAME, USERNAME, CREATEDATE, UPDATEDATE, ISACTIVE, ISDELETED, ID_PASSWORD, MAIL) VALUES
(1, 'Romain', 'S', 'RS', DATE '2016-05-18', DATE '2016-05-18', TRUE, FALSE, 1, NULL),
(2, 'Romain', 'S', 'RS', DATE '2016-05-18', DATE '2016-05-18', TRUE, FALSE, 1, NULL),
(3, 'Romain', 'S', 'RS', DATE '2016-05-18', DATE '2016-05-18', TRUE, FALSE, 1, NULL),
(4, 'Romain', 'S', 'RS', DATE '2016-05-18', DATE '2016-05-18', TRUE, FALSE, 1, NULL),
(5, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 5, NULL),
(6, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 5, NULL),
(7, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 5, NULL),
(8, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 5, NULL),
(9, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 5, NULL),
(10, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 5, NULL),
(11, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 5, NULL),
(12, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 5, NULL),
(13, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 13, NULL),
(14, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 14, NULL),
(15, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 15, NULL),
(16, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 16, NULL),
(17, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 17, NULL),
(18, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 18, NULL),
(19, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 19, NULL),
(20, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 19, NULL),
(21, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 21, NULL),
(22, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 22, NULL),
(23, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 23, NULL),
(24, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 24, NULL),
(25, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 25, NULL),
(26, 'Romain', 'S', 'RS', DATE '2016-05-22', DATE '2016-05-22', TRUE, FALSE, 26, NULL);
CREATE CACHED TABLE PA.USERROLE(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_7A623C8E_1A76_4827_9F87_7FE9D769E02C) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_7A623C8E_1A76_4827_9F87_7FE9D769E02C,
    ROL_ID INT
);
-- 0 +/- SELECT COUNT(*) FROM PA.USERROLE;
CREATE CACHED TABLE PA.COMMENTARY(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_23D414EB_CDEC_42CF_A906_DF038A8E3FBC) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_23D414EB_CDEC_42CF_A906_DF038A8E3FBC,
    EQU_ID INT,
    COMMENTARY TEXT,
    COMMENTDATE DATE
);
-- 0 +/- SELECT COUNT(*) FROM PA.COMMENTARY;
CREATE CACHED TABLE PA.ELEMENT(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_C11724AD_71AD_4B66_AE6B_0E776E0629D7) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_C11724AD_71AD_4B66_AE6B_0E776E0629D7,
    LABEL TEXT,
    DESCRIPTION TEXT
);
ALTER TABLE PA.ELEMENT ADD CONSTRAINT PA.CONSTRAINT_C PRIMARY KEY(ID);
-- 0 +/- SELECT COUNT(*) FROM PA.ELEMENT;
CREATE CACHED TABLE PA.EQUATIONELEMENT(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_F1C8148F_137E_4218_9A74_0EC177A258DA) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_F1C8148F_137E_4218_9A74_0EC177A258DA,
    ELE_ID INT
);
-- 0 +/- SELECT COUNT(*) FROM PA.EQUATIONELEMENT;
CREATE CACHED TABLE PA.RULE(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_3B4D5BD6_5B88_4320_9E29_B26BD8880FE6) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_3B4D5BD6_5B88_4320_9E29_B26BD8880FE6,
    LABEL TEXT
);
-- 0 +/- SELECT COUNT(*) FROM PA.RULE;
CREATE CACHED TABLE PA.RULEELEMENT(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_1268A331_74E3_4DC1_895D_D017AF107E58) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_1268A331_74E3_4DC1_895D_D017AF107E58,
    ELE_ID INT,
    VAL TEXT
);
-- 0 +/- SELECT COUNT(*) FROM PA.RULEELEMENT;
CREATE CACHED TABLE PA.ELMTOPERATOR(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_DC303CC4_2F45_40DF_8133_F3A87BBC3977) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_DC303CC4_2F45_40DF_8133_F3A87BBC3977
);
-- 0 +/- SELECT COUNT(*) FROM PA.ELMTOPERATOR;
CREATE CACHED TABLE PA.ELMTVARIABLE(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_7B069173_9A3D_4F16_8F59_BB04DA7F98BE) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_7B069173_9A3D_4F16_8F59_BB04DA7F98BE,
    VAL TEXT
);
-- 0 +/- SELECT COUNT(*) FROM PA.ELMTVARIABLE;
CREATE CACHED TABLE PA.EQUATIONRULES(
    ID INT DEFAULT (NEXT VALUE FOR PA.SYSTEM_SEQUENCE_253BFABF_57BB_46B3_9158_265AA58588FD) NOT NULL NULL_TO_DEFAULT SEQUENCE PA.SYSTEM_SEQUENCE_253BFABF_57BB_46B3_9158_265AA58588FD,
    RUL_ID INT
);
-- 0 +/- SELECT COUNT(*) FROM PA.EQUATIONRULES;
ALTER TABLE PA.EQUATION ADD CONSTRAINT PA.CONSTRAINT_5151 FOREIGN KEY(CREATEDBY) REFERENCES PA.USERS(ID) NOCHECK;
ALTER TABLE PA.EQUATIONRULES ADD CONSTRAINT PA.CONSTRAINT_5196 FOREIGN KEY(RUL_ID) REFERENCES PA.RULE(ID) NOCHECK;
ALTER TABLE PA.EQUATIONRULES ADD CONSTRAINT PA.CONSTRAINT_519 FOREIGN KEY(ID) REFERENCES PA.EQUATION(ID) NOCHECK;
ALTER TABLE PA.COMMENTARY ADD CONSTRAINT PA.CONSTRAINT_528 FOREIGN KEY(EQU_ID) REFERENCES PA.EQUATION(ID) NOCHECK;
ALTER TABLE PA.EQUATION ADD CONSTRAINT PA.CONSTRAINT_515 FOREIGN KEY(VALIDATEDBY) REFERENCES PA.EQUATION(ID) NOCHECK;
ALTER TABLE PA.ELMTOPERATOR ADD CONSTRAINT PA.CONSTRAINT_78 FOREIGN KEY(ID) REFERENCES PA.ELEMENT(ID) NOCHECK;
ALTER TABLE PA.EQUATIONELEMENT ADD CONSTRAINT PA.CONSTRAINT_88 FOREIGN KEY(ELE_ID) REFERENCES PA.ELEMENT(ID) NOCHECK;
ALTER TABLE PA.RULEELEMENT ADD CONSTRAINT PA.CONSTRAINT_99 FOREIGN KEY(ELE_ID) REFERENCES PA.ELEMENT(ID) NOCHECK;
ALTER TABLE PA.AUTHORISATIONROLE ADD CONSTRAINT PA.CONSTRAINT_79 FOREIGN KEY(AUT_ID) REFERENCES PA.AUTHORISATION(ID) NOCHECK;
ALTER TABLE PA.AUTHORISATIONROLE ADD CONSTRAINT PA.CONSTRAINT_797 FOREIGN KEY(ID) REFERENCES PA.ROLESTATUT(ID) NOCHECK;
ALTER TABLE PA.EQUATIONELEMENT ADD CONSTRAINT PA.CONSTRAINT_8 FOREIGN KEY(ID) REFERENCES PA.EQUATION(ID) NOCHECK;
ALTER TABLE PA.RULEELEMENT ADD CONSTRAINT PA.CONSTRAINT_9 FOREIGN KEY(ID) REFERENCES PA.RULE(ID) NOCHECK;
ALTER TABLE PA.COMMENTARY ADD CONSTRAINT PA.CONSTRAINT_52 FOREIGN KEY(ID) REFERENCES PA.USERS(ID) NOCHECK;
ALTER TABLE PA.USERROLE ADD CONSTRAINT PA.CONSTRAINT_1 FOREIGN KEY(ID) REFERENCES PA.USERS(ID) NOCHECK;
ALTER TABLE PA.ELMTVARIABLE ADD CONSTRAINT PA.CONSTRAINT_4B FOREIGN KEY(ID) REFERENCES PA.ELEMENT(ID) NOCHECK;
ALTER TABLE PA.USERS ADD CONSTRAINT PA.CONSTRAINT_4D FOREIGN KEY(ID_PASSWORD) REFERENCES PA.PASSWORD(ID) NOCHECK;
ALTER TABLE PA.USERROLE ADD CONSTRAINT PA.CONSTRAINT_1E FOREIGN KEY(ROL_ID) REFERENCES PA.ROLESTATUT(ID) NOCHECK;
